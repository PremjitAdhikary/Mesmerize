<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <link rel="shortcut icon" href="../favicon.ico" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="../appstyle.css">
  <link rel="stylesheet" href="./compstyle.css">
  <script src="../components/app-header.js" type="module"></script>
  <script src="../components/sketch-text.js" type="module"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.9.0/p5.js"></script>
  <script src="./sketch.js"></script>
  <script src="./terrain-generator.js"></script>
  <script src="../common/sketch-colors.js"></script>
  <script src="../common/utilities.js"></script>
  <script src="../components/radio-input-group.js" type="module"></script>
  <script src="./control.js" type="module"></script>
  <title>Terrains</title>
</head>
<body>
  <div class="toplevel">
    <app-header class="heading"></app-header>
    <div class="topbody">
      <div class="container">
          <div class="sketch">
            <div id="sketch-holder" class="sketch-holder">
            </div>
          </div>

          <div class="control">
            <div class="control-container">
              <p>
                Select Terrain
                <radio-group id="choice_terrain">
                  <radio-button value="mesh" aria-checked="true">Mesh</radio-button>
                  <radio-button value="land">Land</radio-button>
                  <radio-button value="sea">Sea</radio-button>
                </radio-group>
              </p>
              <p>
                Select View Mode
                <radio-group id="choice_direction">
                  <radio-button value="over" aria-checked="true">Fly Over</radio-button>
                  <radio-button value="side">Side Scroll</radio-button>
                </radio-group>
              </p>
            </div>
          </div>

          <sketch-text class="description" pageid="10021">
            <div slot="content">
              <p>
                Another Daniel Shiffman gem where he generates terrains using <a target="_target" 
                href="https://en.wikipedia.org/wiki/Perlin_noise">perlin noise</a>. Before 
                this I had no idea what perlin noise was. Not only is the terrain generated, but 
                also it simulates a flyover (flight simulator?) on the terrain.
              </p>
              <p>
                The trick is to have a grid of points on xy plane, rotate the plane on its x-axis, 
                then add a z-value (generated by perlin noise) to all those points.
              </p>
              <p>
                The next trick to make it look like the camera is moving over the terrain, is based 
                on the way perlin noise algorithm works in p5js (or in general altogether I guess). 
                The colOffset is kept constant, but the rowOffset is shifted to give the illusion that 
                the camera is moving over the terrain. In actual though, we are just moving the 
                noise values closer.
              </p>
              <p>
                What I added to the original piece are:
                <ul>
                  <li>
                    A side scroll option. Just like those side scrolling video games. Here I keep 
                    the rowOffset constant and move the colOffset.
                  </li>
                  <li>
                    Some coloring. I use the z value of the grid points to cast a shadow on the 
                    surface. Not very elegant but gets the work done.
                  </li>
                  <li>
                    Choice of landscapes where land has most jagged terrain while sea is almost calm.
                  </li>
                </ul>
              </p>
            </div>
            <div slot="source">
              <p>
                Here is the <a target="_target"
                href="https://www.youtube.com/watch?v=IKB1hWWedMk">Original video</a>.
              </p>
            </div>
          </sketch-text>
      </div>
    </div>
  </div>
</body>
</html>